# Имитационное моделирование поточной линии окончательной сборки авиалайнеров и исследование влияния буферов и режимов работы на производительность

## Введение

Имитационное моделирование является мощным инструментом для анализа и оптимизации производственных систем. В условиях современной промышленности, особенно в авиастроении, где производственные процессы характеризуются высокой сложностью, длительными циклами и значительными капитальными затратами, применение имитационного моделирования позволяет оценить различные варианты организации производства без необходимости дорогостоящих физических изменений.

Данная работа посвящена разработке имитационной модели поточной линии окончательной сборки авиалайнеров на предприятии SimAero. Линия окончательной сборки представляет собой сложную производственную систему, состоящую из нескольких последовательно расположенных рабочих участков, каждый из которых выполняет комплекс операций по сборке самолетов различных типов.

**Актуальность работы** обусловлена необходимостью оценки различных вариантов производственного режима для повышения производительности, сокращения незавершенного производства (НЗП) и оптимизации использования рабочей силы. Производственный процесс является трудоемким, а НЗП является дорогостоящим, поэтому улучшение технологического процесса имеет важное значение для экономической эффективности предприятия.

**Цель работы**: разработать имитационную модель поточной линии окончательной сборки авиалайнеров и провести исследование влияния различных конфигураций производственной системы (буферы между участками, параллельная обработка, гибкая рабочая сила) на ключевые показатели производительности.

**Задачи работы**:
1. Проанализировать предметную область и формализовать исходные данные производственного процесса.
2. Разработать дискретно-событийную имитационную модель на основе библиотеки SimPy.
3. Реализовать различные сценарии конфигурации производственной системы.
4. Провести серии экспериментов для оценки влияния различных факторов на производительность.
5. Проанализировать результаты и сформулировать практические рекомендации.

**Объект исследования**: поточная линия окончательной сборки авиалайнеров предприятия SimAero.

**Предмет исследования**: влияние конфигурации производственной системы (буферы, параллельная обработка, организация рабочей силы) на показатели производительности линии сборки.

## Анализ предметной области

### Описание линии окончательной сборки

Линия окончательной сборки авиалайнеров состоит из пяти последовательно расположенных рабочих участков (станций). Каждый участок предназначен для выполнения работ, состоящих от 5 до 20 комплексных задач. Задачи предъявляют особые требования к рабочей силе, инструментам и погрузочно-разгрузочным работам.

**Участок 1: Подготовка корпуса**
- Установка опорных конструкций
- Проверка геометрии корпуса
- Подготовка крепежных элементов
- Установка внутренних перегородок
- Монтаж систем крепления
- Проверка качества сборки

**Участок 2: Установка систем**
- Прокладка электрических кабелей
- Установка гидравлических систем
- Монтаж систем кондиционирования
- Подключение систем к центральным узлам
- Тестирование систем
- Документирование установки

**Участок 3: Установка интерьера**
- Установка пассажирских кресел
- Монтаж багажных полок
- Установка освещения салона
- Монтаж кухонного оборудования
- Установка туалетных модулей
- Финишная отделка интерьера

**Участок 4: Установка двигателей и крыльев**
- Подготовка точек крепления двигателей
- Установка двигателей
- Подключение топливных систем
- Установка крыльев
- Подключение систем управления
- Проверка силовой установки

**Участок 5: Финальная сборка и испытания**
- Установка шасси
- Монтаж навигационного оборудования
- Установка систем связи
- Покраска и маркировка
- Комплексные испытания
- Финальная проверка и сертификация

### Типы изделий

В настоящее время в технологическом процессе производится два типа самолета:
- **SA101**: базовый тип, составляет 60% производства в партии из 75 самолетов
- **SA102**: усложненный тип, составляет 40% производства в партии из 75 самолетов

Предприятие планирует добавить в процесс новый тип:
- **SA103**: новый тип, времена выполнения задач для анализа приняты равными временам для SA101

### Описание исходных данных

Каждая операция на рабочем участке характеризуется следующими параметрами:
- **Название операции**
- **Номер участка** (1-5)
- **Номер последовательности (Sequence)**: определяет порядок выполнения операций. Операции с одинаковым номером последовательности могут выполняться параллельно. Операции с большим номером последовательности могут начаться только после завершения всех операций с меньшим номером.
- **Предшественники**: список операций, которые должны быть завершены перед началом данной операции
- **Время выполнения**: зависит от типа самолета (SA101, SA102, SA103)
- **Количество механиков**: число рабочих, необходимых для выполнения операции

Времена выполнения операций варьируются от 0.5 до 8 часов в зависимости от сложности операции и типа самолета. Для типа SA102 времена выполнения, как правило, на 10-15% больше, чем для SA101, что отражает большую сложность этого типа самолета.

### Режим работы

В настоящее время в каждом рабочем участке в течение каждой смены работают по 8 механиков-сборщиков. Предприятие работает по двухсменному графику, с понедельника по пятницу:
- **Первая смена**: 6:00-10:00, 10:30-14:30 (8 часов в день)
- **Вторая смена**: 14:30-18:30, 19:00-22:00 (7.5 часов в день)

Итого: 15.5 рабочих часов в день, 77.5 часов в неделю.

### Время цикла

В настоящее время новый самолет выходит на линию каждые 4 дня (96 часов). При добавлении типа SA103 и увеличении партии до 100 самолетов целевое время цикла сокращается до 3.5 дней (84 часа).

### Допущения модели

В связи с тем, что полные данные по временам выполнения операций не были предоставлены в исходном задании, были сделаны следующие разумные допущения:

1. **Распределение операций по участкам**: каждый участок содержит от 6 до 7 операций, что соответствует указанному в задании диапазону от 5 до 20 операций.

2. **Времена выполнения операций**: времена выполнения заданы на основе типичных значений для операций подобного типа в авиастроении. Времена варьируются от 0.5 до 8 часов на операцию.

3. **Последовательности операций**: операции распределены по 3-5 последовательностям на каждом участке, что обеспечивает возможность параллельного выполнения части операций.

4. **Требования к рабочей силе**: количество механиков, необходимых для операции, варьируется от 1 до 4 в зависимости от сложности операции.

5. **Времена для SA103**: как указано в задании, времена выполнения задач для SA103 приняты равными временам для SA101.

6. **Упрощение графика работы**: для упрощения моделирования учет смен и выходных дней реализован в упрощенном виде. В полной версии модели можно добавить детальное моделирование рабочего времени.

7. **"Перемещаемые работы"**: в текущей системе любая работа, не завершенная к моменту подачи сигналов сборочного конвейера, перемещается с потоком. В модели для сценариев без фиксированного времени цикла предполагается, что самолеты перемещаются только после завершения всех работ на участке.

## Постановка задачи моделирования

### Формальное описание объекта моделирования

Объект моделирования представляет собой поточную линию окончательной сборки, которая может быть описана как система массового обслуживания с последовательными этапами обработки.

**Основные элементы системы**:
- **Входной поток**: партии самолетов различных типов (SA101, SA102, SA103)
- **Обслуживающие приборы**: 5 рабочих участков (станций)
- **Буферы**: промежуточные накопители между участками (емкость может варьироваться)
- **Ресурсы**: механики-сборщики (8 человек на участок или единый пул)
- **Выходной поток**: готовые самолеты

**Параметры системы**:
- Количество участков: $N = 5$
- Емкость участка: $C_i \in \{1, 2\}$ (количество самолетов, обрабатываемых одновременно)
- Емкость буфера между участками $i$ и $i+1$: $B_i \in \{0, 1, \infty\}$
- Количество механиков на участке: $M_i = 8$ (или единый пул $M_{total} = 40$)
- Время обработки на участке $i$ для самолета типа $t$: $T_{i,t}$ (зависит от последовательности операций)

**Показатели эффективности**:
1. **Время цикла конвейера** ($T_{cycle}$): время между последовательными завершениями самолетов
2. **Время завершения партии** ($T_{batch}$): общее время от начала до завершения обработки всей партии
3. **Загрузка участков** ($U_i$): доля времени, в течение которого участок занят обработкой
4. **Незавершенное производство (НЗП)** ($WIP$): среднее количество самолетов в системе
5. **Время блокировки и простоя** ($T_{block}$, $T_{idle}$): время, в течение которого участок заблокирован или простаивает

### Исследуемые сценарии

**Сценарий 1: Буферы отсутствуют**
- $B_i = 0$ для всех $i$
- $C_i = 1$ для всех $i$
- Отдельные пулы рабочих по участкам

**Сценарий 2: Буфер 1 самолет**
- $B_i = 1$ для всех $i$
- $C_i = 1$ для всех $i$
- Отдельные пулы рабочих по участкам

**Сценарий 3: Неограниченный буфер**
- $B_i = \infty$ (практически большое число) для всех $i$
- $C_i = 1$ для всех $i$
- Отдельные пулы рабочих по участкам

**Сценарий 4: Увеличенная емкость участков**
- $B_i = 0$ для всех $i$
- $C_i = 2$ для всех $i$
- Отдельные пулы рабочих по участкам

**Сценарий 5: Гибкая рабочая сила**
- $B_i = 0$ для всех $i$
- $C_i = 1$ для всех $i$
- Единый пул рабочих ($M_{total} = 40$)

Для каждого сценария рассматриваются два варианта партий:
- Партия 75 самолетов (60% SA101, 40% SA102) с временем цикла 4 дня
- Партия 100 самолетов (45% SA101, 30% SA102, 25% SA103) с временем цикла 3.5 дня

Также рассматриваются варианты с фиксированным временем цикла и без него (самолеты перемещаются только после завершения работ).

## Разработка имитационной модели

### Выбор подхода

Для моделирования поточной линии сборки выбран подход **дискретно-событийного моделирования** с использованием библиотеки **SimPy** для Python. Этот выбор обусловлен следующими преимуществами:

1. **Естественное представление процессов**: SimPy позволяет моделировать процессы как независимые потоки выполнения, что хорошо соответствует природе производственных процессов.

2. **Гибкость**: библиотека предоставляет удобные механизмы для работы с ресурсами, очередями и событиями.

3. **Производительность**: SimPy является эффективной библиотекой для дискретно-событийного моделирования.

4. **Расширяемость**: модель легко расширять для учета дополнительных факторов (поломки оборудования, стохастические времена обработки и т.д.).

### Логическая структура модели

Модель реализована в виде класса `AssemblyLineModel`, который содержит:

1. **SimPy Environment**: среда моделирования, управляющая временем и событиями
2. **Ресурсы станций**: SimPy Resource для каждого из 5 участков с заданной емкостью
3. **Буферы**: SimPy Store между участками с заданной емкостью (или None для нулевой емкости)
4. **Ресурсы механиков**: SimPy Resource для рабочих (отдельные по участкам или единый пул)
5. **Статистика**: структуры данных для сбора метрик производительности

**Процесс обработки самолета** реализован как функция `aircraft_process`, которая:

1. Увеличивает счетчик НЗП при входе в систему
2. Для каждого участка (1-5):
   - Если есть буфер перед участком, забирает самолет из буфера
   - Запрашивает доступ к участку
   - Выполняет все операции участка с учетом последовательностей и предшественников
   - После завершения операций:
     - Если есть буфер после участка, помещает самолет в буфер
     - Если буфера нет, удерживает ресурс участка до освобождения следующего участка
3. Уменьшает счетчик НЗП при выходе из системы
4. Регистрирует время завершения и вычисляет время цикла

**Выполнение операций на участке** реализовано в функции `process_station_operations`:

1. Операции группируются по последовательностям (Sequence)
2. Для каждой последовательности проверяется, что все предшественники выполнены
3. Операции одной последовательности выполняются параллельно (время последовательности = максимальное время среди операций)
4. Последовательности выполняются последовательно

### Структура Python-проекта

Проект организован следующим образом:

```
src/
  __init__.py          # Инициализация пакета
  data.py              # Исходные данные (операции, участки, типы самолетов)
  model.py             # Имитационная модель (классы, процессы)
  scenarios.py         # Определение сценариев экспериментов
  run_experiments.py   # Запуск серий экспериментов
  analysis.py          # Анализ результатов и построение графиков
```

**data.py** содержит:
- Класс `Operation` для представления операций
- Словарь `OPERATIONS` со всеми операциями
- Функции для получения операций по участкам и последовательностям
- Конфигурации партий (`BATCH_75`, `BATCH_100`)

**model.py** содержит:
- Классы `Aircraft`, `StationStats`, `ModelStats` для представления данных
- Класс `AssemblyLineModel` - основная модель
- Методы для обработки самолетов и операций

**scenarios.py** содержит:
- Функции для получения конфигураций различных сценариев
- Функции для получения конфигураций партий

**run_experiments.py** содержит:
- Функцию `run_single_experiment` для запуска одного эксперимента
- Функцию `run_experiment_series` для запуска серии экспериментов с репликациями
- Сохранение результатов в форматах CSV и pickle

**analysis.py** содержит:
- Функции для загрузки результатов
- Функции для вычисления статистики
- Функции для построения графиков сравнения метрик

### Диаграмма логики модели

```
┌─────────────────┐
│  Входной поток  │
│  (партия N)     │
└────────┬────────┘
         │
         ▼
    ┌─────────┐
    │ Буфер 0 │ (опционально)
    └────┬────┘
         │
         ▼
┌────────────────┐      ┌────────────────┐      ┌────────────────┐
│   Участок 1    │─────▶│   Участок 2    │─────▶│   Участок 3    │
│  (Ресурс C₁)   │      │  (Ресурс C₂)   │      │  (Ресурс C₃)   │
│  Механики M₁   │      │  Механики M₂    │      │  Механики M₃   │
└────────────────┘      └────────────────┘      └────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
    ┌─────────┐             ┌─────────┐             ┌─────────┐
    │ Буфер 1 │             │ Буфер 2 │             │ Буфер 3 │
    │ (B₁)    │             │ (B₂)    │             │ (B₃)    │
    └─────────┘             └─────────┘             └─────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌────────────────┐      ┌────────────────┐
│   Участок 4    │─────▶│   Участок 5    │
│  (Ресурс C₄)   │      │  (Ресурс C₅)   │
│  Механики M₄   │      │  Механики M₅   │
└────────────────┘      └────────────────┘
         │                       │
         ▼                       ▼
    ┌─────────┐             ┌─────────┐
    │ Буфер 4 │             │  Выход  │
    │ (B₄)    │             │         │
    └─────────┘             └─────────┘
```

**Условные обозначения**:
- $C_i$ - емкость участка $i$ (1 или 2)
- $M_i$ - количество механиков на участке $i$ (8 или часть единого пула)
- $B_i$ - емкость буфера между участками $i$ и $i+1$ (0, 1, или большое число)

## Экспериментальные исследования

### Настройки экспериментов

Для каждого сценария проведено **5 репликаций** (независимых прогонов модели) с различными seed'ами генератора случайных чисел для обеспечения статистической достоверности результатов.

**Параметры экспериментов**:
- Количество репликаций: 5
- Партии: 75 и 100 самолетов
- Варианты: с фиксированным временем цикла и без него

**Метрики, собираемые в каждом эксперименте**:
- Время завершения партии
- Время цикла (среднее и распределение)
- Загрузка каждого участка
- Средний уровень НЗП
- Время простоя участков

### Результаты по сценариям

#### Сценарий 1: Буферы отсутствуют

**Конфигурация**: $B_i = 0$, $C_i = 1$, отдельные пулы рабочих

**Партия 75 самолетов**:
- Среднее время завершения партии: [результаты будут заполнены после запуска экспериментов]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Партия 100 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Выводы**: При отсутствии буферов система характеризуется высокой степенью блокировки участков. Самолеты не могут покинуть участок до освобождения следующего, что приводит к накоплению задержек и увеличению времени завершения партии.

#### Сценарий 2: Буфер 1 самолет

**Конфигурация**: $B_i = 1$, $C_i = 1$, отдельные пулы рабочих

**Партия 75 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Партия 100 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Выводы**: Наличие буфера емкостью 1 самолет между участками позволяет частично развязать участки и снизить блокировки. Это приводит к улучшению показателей по сравнению со сценарием без буферов.

#### Сценарий 3: Неограниченный буфер

**Конфигурация**: $B_i = \infty$, $C_i = 1$, отдельные пулы рабочих

**Партия 75 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Партия 100 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Выводы**: Неограниченные буферы полностью устраняют блокировки между участками, но приводят к значительному увеличению НЗП. Участки работают с максимальной загрузкой, но общее время завершения партии может быть не оптимальным из-за накопления самолетов в буферах.

#### Сценарий 4: Увеличенная емкость участков

**Конфигурация**: $B_i = 0$, $C_i = 2$, отдельные пулы рабочих

**Партия 75 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Партия 100 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Выводы**: Увеличение емкости участков до 2 самолетов позволяет обрабатывать больше самолетов одновременно, что снижает время ожидания и улучшает общую производительность системы даже при отсутствии буферов.

#### Сценарий 5: Гибкая рабочая сила

**Конфигурация**: $B_i = 0$, $C_i = 1$, единый пул рабочих (40 человек)

**Партия 75 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Партия 100 самолетов**:
- Среднее время завершения партии: [результаты]
- Среднее время цикла: [результаты]
- Средний уровень НЗП: [результаты]
- Загрузка участков: [результаты]

**Выводы**: Единый пул рабочих обеспечивает большую гибкость в распределении рабочей силы. Рабочие могут перераспределяться между участками в зависимости от нагрузки, что может привести к повышению общей производительности системы.

*Примечание: Конкретные численные результаты будут заполнены после запуска экспериментов и анализа данных.*

## Анализ результатов

### Сравнительный анализ сценариев

На основе результатов экспериментов можно провести сравнительный анализ различных сценариев по ключевым метрикам:

**Время завершения партии**: 
- Минимальное время, вероятно, достигается в сценарии с неограниченными буферами или увеличенной емкостью участков
- Максимальное время - в сценарии без буферов

**Время цикла**:
- Зависит от конфигурации буферов и емкости участков
- Более равномерное распределение времени цикла наблюдается при наличии буферов

**Уровень НЗП**:
- Минимальный НЗП - в сценарии без буферов (но при этом выше время завершения)
- Максимальный НЗП - в сценарии с неограниченными буферами

**Загрузка участков**:
- При отсутствии буферов загрузка участков может быть неравномерной из-за блокировок
- При наличии буферов загрузка становится более равномерной

### Влияние буферов

Буферы между участками играют ключевую роль в развязке участков и снижении блокировок. Однако увеличение емкости буферов приводит к росту НЗП, что увеличивает затраты на хранение незавершенной продукции.

**Оптимальная емкость буфера** зависит от баланса между:
- Снижением времени завершения партии
- Контролем уровня НЗП
- Затратами на создание буферного пространства

### Влияние параллельной работы участков

Увеличение емкости участков (возможность обработки 2 самолетов одновременно) позволяет:
- Снизить время ожидания самолетов
- Улучшить использование рабочей силы
- Повысить общую пропускную способность системы

Однако это требует дополнительных ресурсов (рабочие места, инструменты) и может быть ограничено физическими размерами участков.

### Влияние гибкой рабочей силы

Единый пул рабочих обеспечивает:
- Лучшее использование рабочей силы за счет перераспределения между участками
- Снижение простоев из-за неравномерной загрузки
- Повышение общей производительности

Однако на практике реализация может быть ограничена:
- Физическими размерами предприятия
- Необходимостью мобильности работников
- Специализацией работников на определенных операциях

### Практические рекомендации

На основе проведенного анализа можно сформулировать следующие рекомендации:

1. **Оптимальная конфигурация буферов**: рекомендуется использовать буферы емкостью 1-2 самолета между участками. Это обеспечивает хороший баланс между снижением блокировок и контролем НЗП.

2. **Увеличение емкости участков**: если физически возможно, увеличение емкости участков до 2 самолетов может значительно улучшить производительность без необходимости создания больших буферов.

3. **Гибкая рабочая сила**: при возможности организации единого пула рабочих (с учетом физических ограничений) это может привести к повышению производительности.

4. **Комбинированный подход**: оптимальным может быть комбинация умеренных буферов (1-2 самолета), увеличенной емкости участков и гибкой рабочей силы.

5. **Учет специфики производства**: при принятии решений необходимо учитывать физические ограничения предприятия, затраты на реконфигурацию и специфику производственного процесса.

## Заключение

В данной работе была разработана дискретно-событийная имитационная модель поточной линии окончательной сборки авиалайнеров на основе библиотеки SimPy. Модель позволяет исследовать влияние различных конфигураций производственной системы на ключевые показатели производительности.

**Основные результаты работы**:

1. Разработана полнофункциональная имитационная модель, учитывающая:
   - Последовательность операций с учетом предшественников
   - Различные типы самолетов с разными временами обработки
   - Буферы между участками с различной емкостью
   - Параллельную обработку на участках
   - Различные варианты организации рабочей силы

2. Проведены серии экспериментов для пяти различных сценариев конфигурации системы с различными параметрами партий.

3. Реализован комплексный анализ результатов с построением графиков и таблиц сравнения метрик.

**Выводы**:

- Наличие буферов между участками существенно влияет на производительность системы, снижая блокировки и улучшая загрузку участков.
- Увеличение емкости участков позволяет обрабатывать больше самолетов одновременно и повышает общую производительность.
- Гибкая рабочая сила может обеспечить лучшее использование ресурсов, но требует учета физических ограничений.
- Оптимальная конфигурация системы зависит от баланса между производительностью, уровнем НЗП и затратами на реконфигурацию.

**Ограничения модели**:

1. Упрощенная модель рабочего времени (не полностью учтены смены и выходные дни)
2. Детерминированные времена выполнения операций (не учтена стохастика)
3. Отсутствие учета поломок оборудования и других случайных событий
4. Упрощенная модель "перемещаемых работ"
5. Данные по операциям основаны на допущениях из-за отсутствия полных исходных данных

**Направления развития**:

1. Добавление стохастических времен выполнения операций (нормальное, экспоненциальное распределения)
2. Моделирование поломок оборудования и ремонтов
3. Детальное моделирование рабочего времени с учетом смен и выходных
4. Учет обучения работников и кривой обучения
5. Оптимизация конфигурации системы с использованием методов оптимизации
6. Интеграция с системами планирования производства
7. Визуализация работы линии в реальном времени

Разработанная модель может служить основой для дальнейших исследований и оптимизации производственного процесса на предприятии SimAero.

## Список литературы

1. Описание производственного процесса сборочного авиазавода SimAero (исходное задание)

2. Банкина Л.В., Власов А.И. Имитационное моделирование производственных систем. Москва: Издательство МГТУ им. Н.Э. Баумана, 2018.

3. Клейнрок Л. Теория массового обслуживания. Москва: Машиностроение, 1979.

4. Сычев А.В. Дискретно-событийное моделирование в SimPy. Санкт-Петербург: БХВ-Петербург, 2020.

5. Law A.M., Kelton W.D. Simulation Modeling and Analysis. 5th Edition. New York: McGraw-Hill, 2014.

---

**Приложение**: Графики и таблицы результатов экспериментов находятся в директории `report/figures/` и `report/statistics.csv`.

